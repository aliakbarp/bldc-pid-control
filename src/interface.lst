   1               		.file	"interface.c"
   2               	__SP_H__ = 0x3e
   3               	__SP_L__ = 0x3d
   4               	__SREG__ = 0x3f
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.text
   8               	.Ltext0:
   9               		.cfi_sections	.debug_frame
  10               	.global	lcd_display
  12               	lcd_display:
  13               	.LFB2:
  14               		.file 1 "src/interface.c"
   1:src/interface.c **** /********************************
   2:src/interface.c ****  * INTERFACE LIBRARY
   3:src/interface.c ****  * For LCD and/or serial
   4:src/interface.c ****  * 
   5:src/interface.c **** ********************************/
   6:src/interface.c **** #include <stdio.h>
   7:src/interface.c **** #include <avr/pgmspace.h>
   8:src/interface.c **** #include <src/hd44780.h>
   9:src/interface.c **** #include "interface.h"
  10:src/interface.c **** #include <stdlib.h>
  11:src/interface.c **** #include <string.h>
  12:src/interface.c **** #include <src/uart.h>
  13:src/interface.c **** 
  14:src/interface.c **** void lcd_display(uint8_t x, uint8_t y, char buffer[33]){
  15               		.loc 1 14 0
  16               		.cfi_startproc
  17               	.LVL0:
  18               	/* prologue: function */
  19               	/* frame size = 0 */
  20               	/* stack size = 0 */
  21               	.L__stack_usage = 0
  22 0000 0895      		ret
  23               		.cfi_endproc
  24               	.LFE2:
  26               		.section	.rodata.str1.1,"aMS",@progbits,1
  27               	.LC0:
  28 0000 252E 3366 		.string	"%.3f"
  28      00
  29               		.text
  30               	.global	serial_display
  32               	serial_display:
  33               	.LFB3:
  15:src/interface.c **** 	#if defined NEED_LCD
  16:src/interface.c **** 		lcd_gotoxy(x, y);
  17:src/interface.c **** 		lcd_puts(buffer);
  18:src/interface.c **** 	#endif
  19:src/interface.c **** }
  20:src/interface.c **** 
  21:src/interface.c **** void serial_display(double rpm){
  34               		.loc 1 21 0
  35               		.cfi_startproc
  36               	.LVL1:
  37               		.loc 1 21 0
  38 0002 EF92      		push r14
  39               	.LCFI0:
  40               		.cfi_def_cfa_offset 3
  41               		.cfi_offset 14, -2
  42 0004 FF92      		push r15
  43               	.LCFI1:
  44               		.cfi_def_cfa_offset 4
  45               		.cfi_offset 15, -3
  46 0006 0F93      		push r16
  47               	.LCFI2:
  48               		.cfi_def_cfa_offset 5
  49               		.cfi_offset 16, -4
  50 0008 1F93      		push r17
  51               	.LCFI3:
  52               		.cfi_def_cfa_offset 6
  53               		.cfi_offset 17, -5
  54 000a CF93      		push r28
  55               	.LCFI4:
  56               		.cfi_def_cfa_offset 7
  57               		.cfi_offset 28, -6
  58 000c DF93      		push r29
  59               	.LCFI5:
  60               		.cfi_def_cfa_offset 8
  61               		.cfi_offset 29, -7
  62 000e CDB7      		in r28,__SP_L__
  63 0010 DEB7      		in r29,__SP_H__
  64               	.LCFI6:
  65               		.cfi_def_cfa_register 28
  66 0012 2A97      		sbiw r28,10
  67               	.LCFI7:
  68               		.cfi_def_cfa_offset 18
  69 0014 0FB6      		in __tmp_reg__,__SREG__
  70 0016 F894      		cli
  71 0018 DEBF      		out __SP_H__,r29
  72 001a 0FBE      		out __SREG__,__tmp_reg__
  73 001c CDBF      		out __SP_L__,r28
  74               	/* prologue: function */
  75               	/* frame size = 10 */
  76               	/* stack size = 16 */
  77               	.L__stack_usage = 16
  22:src/interface.c **** 	#if defined NEED_SERIAL
  23:src/interface.c **** 		unsigned char arr[10];
  24:src/interface.c **** 		snprintf(arr, sizeof(rpm)+3, "%.3f", rpm);
  78               		.loc 1 24 0
  79 001e 9F93      		push r25
  80 0020 8F93      		push r24
  81 0022 7F93      		push r23
  82 0024 6F93      		push r22
  83 0026 80E0      		ldi r24,lo8(.LC0)
  84 0028 90E0      		ldi r25,hi8(.LC0)
  85 002a 9F93      		push r25
  86 002c 8F93      		push r24
  87 002e 1F92      		push __zero_reg__
  88 0030 87E0      		ldi r24,lo8(7)
  89 0032 8F93      		push r24
  90 0034 8E01      		movw r16,r28
  91 0036 0F5F      		subi r16,-1
  92 0038 1F4F      		sbci r17,-1
  93 003a 1F93      		push r17
  94 003c 0F93      		push r16
  95 003e 0E94 0000 		call snprintf
  96               	.LVL2:
  97 0042 7801      		movw r14,r16
  98               	.LBB2:
  25:src/interface.c **** 		for(int g=0; g<strlen(arr); g++){
  99               		.loc 1 25 0
 100 0044 0FB6      		in __tmp_reg__,__SREG__
 101 0046 F894      		cli
 102 0048 DEBF      		out __SP_H__,r29
 103 004a 0FBE      		out __SREG__,__tmp_reg__
 104 004c CDBF      		out __SP_L__,r28
 105               	.LVL3:
 106               	.L3:
 107               		.loc 1 25 0 is_stmt 0 discriminator 1
 108 004e F801      		movw r30,r16
 109               		0:
 110 0050 0190      		ld __tmp_reg__,Z+
 111 0052 0020      		tst __tmp_reg__
 112 0054 01F4      		brne 0b
 113 0056 3197      		sbiw r30,1
 114 0058 E01B      		sub r30,r16
 115 005a F10B      		sbc r31,r17
 116 005c C701      		movw r24,r14
 117 005e 801B      		sub r24,r16
 118 0060 910B      		sbc r25,r17
 119 0062 8E17      		cp r24,r30
 120 0064 9F07      		cpc r25,r31
 121 0066 00F4      		brsh .L6
  26:src/interface.c **** 			//Send back to terminal
  27:src/interface.c **** 			uart_putc((uint8_t)arr[g]);
 122               		.loc 1 27 0 is_stmt 1 discriminator 2
 123 0068 F701      		movw r30,r14
 124 006a 8191      		ld r24,Z+
 125 006c 7F01      		movw r14,r30
 126 006e 0E94 0000 		call uart_putc
 127               	.LVL4:
 128 0072 00C0      		rjmp .L3
 129               	.L6:
 130               	/* epilogue start */
 131               	.LBE2:
  28:src/interface.c **** 		}
  29:src/interface.c **** 	#endif
  30:src/interface.c **** }
 132               		.loc 1 30 0
 133 0074 2A96      		adiw r28,10
 134 0076 0FB6      		in __tmp_reg__,__SREG__
 135 0078 F894      		cli
 136 007a DEBF      		out __SP_H__,r29
 137 007c 0FBE      		out __SREG__,__tmp_reg__
 138 007e CDBF      		out __SP_L__,r28
 139 0080 DF91      		pop r29
 140 0082 CF91      		pop r28
 141 0084 1F91      		pop r17
 142 0086 0F91      		pop r16
 143 0088 FF90      		pop r15
 144 008a EF90      		pop r14
 145 008c 0895      		ret
 146               		.cfi_endproc
 147               	.LFE3:
 149               		.section	.rodata.str1.1
 150               	.LC1:
 151 0005 252E 3266 		.string	"%.2f"
 151      00
 152               		.text
 153               	.global	serial_rpm
 155               	serial_rpm:
 156               	.LFB4:
  31:src/interface.c **** 
  32:src/interface.c **** void serial_rpm(double rpm, double hertz){
 157               		.loc 1 32 0
 158               		.cfi_startproc
 159               	.LVL5:
 160 008e AF92      		push r10
 161               	.LCFI8:
 162               		.cfi_def_cfa_offset 3
 163               		.cfi_offset 10, -2
 164 0090 BF92      		push r11
 165               	.LCFI9:
 166               		.cfi_def_cfa_offset 4
 167               		.cfi_offset 11, -3
 168 0092 CF92      		push r12
 169               	.LCFI10:
 170               		.cfi_def_cfa_offset 5
 171               		.cfi_offset 12, -4
 172 0094 DF92      		push r13
 173               	.LCFI11:
 174               		.cfi_def_cfa_offset 6
 175               		.cfi_offset 13, -5
 176 0096 EF92      		push r14
 177               	.LCFI12:
 178               		.cfi_def_cfa_offset 7
 179               		.cfi_offset 14, -6
 180 0098 FF92      		push r15
 181               	.LCFI13:
 182               		.cfi_def_cfa_offset 8
 183               		.cfi_offset 15, -7
 184 009a 0F93      		push r16
 185               	.LCFI14:
 186               		.cfi_def_cfa_offset 9
 187               		.cfi_offset 16, -8
 188 009c 1F93      		push r17
 189               	.LCFI15:
 190               		.cfi_def_cfa_offset 10
 191               		.cfi_offset 17, -9
 192 009e CF93      		push r28
 193               	.LCFI16:
 194               		.cfi_def_cfa_offset 11
 195               		.cfi_offset 28, -10
 196 00a0 DF93      		push r29
 197               	.LCFI17:
 198               		.cfi_def_cfa_offset 12
 199               		.cfi_offset 29, -11
 200 00a2 CDB7      		in r28,__SP_L__
 201 00a4 DEB7      		in r29,__SP_H__
 202               	.LCFI18:
 203               		.cfi_def_cfa_register 28
 204 00a6 2A97      		sbiw r28,10
 205               	.LCFI19:
 206               		.cfi_def_cfa_offset 22
 207 00a8 0FB6      		in __tmp_reg__,__SREG__
 208 00aa F894      		cli
 209 00ac DEBF      		out __SP_H__,r29
 210 00ae 0FBE      		out __SREG__,__tmp_reg__
 211 00b0 CDBF      		out __SP_L__,r28
 212               	/* prologue: function */
 213               	/* frame size = 10 */
 214               	/* stack size = 20 */
 215               	.L__stack_usage = 20
 216 00b2 D22E      		mov r13,r18
 217 00b4 C32E      		mov r12,r19
 218 00b6 B42E      		mov r11,r20
 219 00b8 A52E      		mov r10,r21
  33:src/interface.c **** 	#if defined NEED_SERIAL
  34:src/interface.c **** 		unsigned char arr[10];
  35:src/interface.c **** 		snprintf(arr, sizeof(rpm)+3, "%.2f", rpm);
 220               		.loc 1 35 0
 221 00ba 9F93      		push r25
 222 00bc 8F93      		push r24
 223 00be 7F93      		push r23
 224 00c0 6F93      		push r22
 225 00c2 80E0      		ldi r24,lo8(.LC1)
 226 00c4 90E0      		ldi r25,hi8(.LC1)
 227 00c6 9F93      		push r25
 228 00c8 8F93      		push r24
 229 00ca 1F92      		push __zero_reg__
 230 00cc 87E0      		ldi r24,lo8(7)
 231 00ce 8F93      		push r24
 232 00d0 8E01      		movw r16,r28
 233 00d2 0F5F      		subi r16,-1
 234 00d4 1F4F      		sbci r17,-1
 235 00d6 1F93      		push r17
 236 00d8 0F93      		push r16
 237 00da 0E94 0000 		call snprintf
 238               	.LVL6:
 239               	.LBB3:
  36:src/interface.c **** 		for(int g=0; g<strlen(arr); g++){
 240               		.loc 1 36 0
 241 00de 0FB6      		in __tmp_reg__,__SREG__
 242 00e0 F894      		cli
 243 00e2 DEBF      		out __SP_H__,r29
 244 00e4 0FBE      		out __SREG__,__tmp_reg__
 245 00e6 CDBF      		out __SP_L__,r28
 246 00e8 7801      		movw r14,r16
 247               	.LVL7:
 248               	.L8:
 249               		.loc 1 36 0 is_stmt 0 discriminator 1
 250 00ea F801      		movw r30,r16
 251               		0:
 252 00ec 0190      		ld __tmp_reg__,Z+
 253 00ee 0020      		tst __tmp_reg__
 254 00f0 01F4      		brne 0b
 255 00f2 3197      		sbiw r30,1
 256 00f4 E01B      		sub r30,r16
 257 00f6 F10B      		sbc r31,r17
 258 00f8 C701      		movw r24,r14
 259 00fa 801B      		sub r24,r16
 260 00fc 910B      		sbc r25,r17
 261 00fe 8E17      		cp r24,r30
 262 0100 9F07      		cpc r25,r31
 263 0102 00F4      		brsh .L12
  37:src/interface.c **** 			//Send back to terminal
  38:src/interface.c **** 			uart_putc((uint8_t)arr[g]);
 264               		.loc 1 38 0 is_stmt 1 discriminator 2
 265 0104 F701      		movw r30,r14
 266 0106 8191      		ld r24,Z+
 267 0108 7F01      		movw r14,r30
 268 010a 0E94 0000 		call uart_putc
 269               	.LVL8:
 270 010e 00C0      		rjmp .L8
 271               	.L12:
 272               	.LBE3:
  39:src/interface.c **** 		}
  40:src/interface.c **** 		uart_putc(32);
 273               		.loc 1 40 0
 274 0110 80E2      		ldi r24,lo8(32)
 275 0112 0E94 0000 		call uart_putc
 276               	.LVL9:
  41:src/interface.c **** 		uart_puts_P("rpm");
 277               		.loc 1 41 0
 278 0116 80E0      		ldi r24,lo8(__c.2109)
 279 0118 90E0      		ldi r25,hi8(__c.2109)
 280 011a 0E94 0000 		call uart_puts_p
 281               	.LVL10:
  42:src/interface.c **** 		uart_putc(9);
 282               		.loc 1 42 0
 283 011e 89E0      		ldi r24,lo8(9)
 284 0120 0E94 0000 		call uart_putc
 285               	.LVL11:
  43:src/interface.c **** 		//uart_putc("#");
  44:src/interface.c **** 		snprintf(arr, sizeof(hertz)+3, "%.2f", hertz);
 286               		.loc 1 44 0
 287 0124 AF92      		push r10
 288 0126 BF92      		push r11
 289 0128 CF92      		push r12
 290 012a DF92      		push r13
 291 012c 80E0      		ldi r24,lo8(.LC1)
 292 012e 90E0      		ldi r25,hi8(.LC1)
 293 0130 9F93      		push r25
 294 0132 8F93      		push r24
 295 0134 1F92      		push __zero_reg__
 296 0136 87E0      		ldi r24,lo8(7)
 297 0138 8F93      		push r24
 298 013a 1F93      		push r17
 299 013c 0F93      		push r16
 300 013e 0E94 0000 		call snprintf
 301               	.LVL12:
 302               	.LBB4:
  45:src/interface.c **** 		for(int g=0; g<strlen(arr); g++){
 303               		.loc 1 45 0
 304 0142 0FB6      		in __tmp_reg__,__SREG__
 305 0144 F894      		cli
 306 0146 DEBF      		out __SP_H__,r29
 307 0148 0FBE      		out __SREG__,__tmp_reg__
 308 014a CDBF      		out __SP_L__,r28
 309 014c 7801      		movw r14,r16
 310               	.LVL13:
 311               	.L10:
 312               		.loc 1 45 0 is_stmt 0 discriminator 1
 313 014e F801      		movw r30,r16
 314               		0:
 315 0150 0190      		ld __tmp_reg__,Z+
 316 0152 0020      		tst __tmp_reg__
 317 0154 01F4      		brne 0b
 318 0156 3197      		sbiw r30,1
 319 0158 E01B      		sub r30,r16
 320 015a F10B      		sbc r31,r17
 321 015c C701      		movw r24,r14
 322 015e 801B      		sub r24,r16
 323 0160 910B      		sbc r25,r17
 324 0162 8E17      		cp r24,r30
 325 0164 9F07      		cpc r25,r31
 326 0166 00F4      		brsh .L13
  46:src/interface.c **** 			//Send back to terminal
  47:src/interface.c **** 			uart_putc((uint8_t)arr[g]);
 327               		.loc 1 47 0 is_stmt 1 discriminator 2
 328 0168 F701      		movw r30,r14
 329 016a 8191      		ld r24,Z+
 330 016c 7F01      		movw r14,r30
 331 016e 0E94 0000 		call uart_putc
 332               	.LVL14:
 333 0172 00C0      		rjmp .L10
 334               	.L13:
 335               	.LBE4:
  48:src/interface.c **** 		}
  49:src/interface.c **** 		uart_putc(32);
 336               		.loc 1 49 0
 337 0174 80E2      		ldi r24,lo8(32)
 338 0176 0E94 0000 		call uart_putc
 339               	.LVL15:
  50:src/interface.c **** 		uart_puts_P("Hz");
 340               		.loc 1 50 0
 341 017a 80E0      		ldi r24,lo8(__c.2115)
 342 017c 90E0      		ldi r25,hi8(__c.2115)
 343 017e 0E94 0000 		call uart_puts_p
 344               	.LVL16:
  51:src/interface.c **** 		uart_putc(10);
 345               		.loc 1 51 0
 346 0182 8AE0      		ldi r24,lo8(10)
 347 0184 0E94 0000 		call uart_putc
 348               	.LVL17:
 349               	/* epilogue start */
  52:src/interface.c **** 	#endif
  53:src/interface.c **** }
 350               		.loc 1 53 0
 351 0188 2A96      		adiw r28,10
 352 018a 0FB6      		in __tmp_reg__,__SREG__
 353 018c F894      		cli
 354 018e DEBF      		out __SP_H__,r29
 355 0190 0FBE      		out __SREG__,__tmp_reg__
 356 0192 CDBF      		out __SP_L__,r28
 357 0194 DF91      		pop r29
 358 0196 CF91      		pop r28
 359 0198 1F91      		pop r17
 360 019a 0F91      		pop r16
 361 019c FF90      		pop r15
 362 019e EF90      		pop r14
 363 01a0 DF90      		pop r13
 364 01a2 CF90      		pop r12
 365 01a4 BF90      		pop r11
 366 01a6 AF90      		pop r10
 367 01a8 0895      		ret
 368               		.cfi_endproc
 369               	.LFE4:
 371               		.section	.progmem.data,"a",@progbits
 374               	__c.2115:
 375 0000 487A 00   		.string	"Hz"
 378               	__c.2109:
 379 0003 7270 6D00 		.string	"rpm"
 380               		.text
 381               	.Letext0:
 382               		.file 2 "/usr/lib/avr/include/stdint.h"
 383               		.file 3 "/usr/lib/gcc/avr/4.8.2/include/stddef.h"
 384               		.file 4 "./src/uart.h"
 385               		.file 5 "/usr/lib/avr/include/stdio.h"
DEFINED SYMBOLS
                            *ABS*:0000000000000000 interface.c
     /tmp/ccvD8LEj.s:2      *ABS*:000000000000003e __SP_H__
     /tmp/ccvD8LEj.s:3      *ABS*:000000000000003d __SP_L__
     /tmp/ccvD8LEj.s:4      *ABS*:000000000000003f __SREG__
     /tmp/ccvD8LEj.s:5      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccvD8LEj.s:6      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccvD8LEj.s:12     .text:0000000000000000 lcd_display
     /tmp/ccvD8LEj.s:32     .text:0000000000000002 serial_display
     /tmp/ccvD8LEj.s:155    .text:000000000000008e serial_rpm
     /tmp/ccvD8LEj.s:378    .progmem.data:0000000000000003 __c.2109
     /tmp/ccvD8LEj.s:374    .progmem.data:0000000000000000 __c.2115

UNDEFINED SYMBOLS
snprintf
uart_putc
uart_puts_p
__do_copy_data
